<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Financeira</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="header">
        <h1>Cálculo de custos e prejuízos</h1>
    </div>

    <div id="conteudo">
        <h2>Calcule suas perdas</h2>
        <p>Insira o custo por arroba (@):</p>
        <input type="number" id="input_custoArroba"> <br>

        <p>Quantos bovinos MACHOS são transportados mensalmente:</p>
        <input type="number" id="input_bovinosM"> <br>
        <p>Quantos bovinos FÊMEAS são transportados mensalmente:</p>
        <input type="number" id="input_bovinosF"> <br>

        <button onclick="calcular()">Calcular</button> <br>

        <div id="resultados"></div>
    </div>
</body>
</html>
<script>
    function calcular() {
        //converter @ para Kg:
        var custoArroba = Number(input_custoArroba.value);
        var custoKg = custoArroba / 14.688;

        //valores pré-abate:
        var qtdM = Number(input_bovinosM.value);
        var qtdF = Number(input_bovinosF.value);

        //peso médio macho = Kg 588,9
        var kgTotalM = qtdM * 588.9;
        //peso médio fêmea = Kg 444,7
        var kgTotalF = qtdF * 444.7;

        /*  Cálculo de perda:
        61 (Colômbia) + 60 (Uruguai) + 14,7 (Chile) + 10,3 (Brasil, Curitiba) + 54,2 (Brasil, Rio Grande do Sul) + 92 (México) / 6 = 48,7%
        */

        //O peso da carcaça equivale a 50% do peso do animal vivo
        var machoCarcacaKg = kgTotalM / 2;
        var femeaCarcacaKg = kgTotalF / 2;

        //Calculo de perda:
        /* A perda por carcaça equivale a 0,40% para fêmeas (900g a cada 222,35kg)
        e de 0,30% para os machos (900g a cada 294,45kg) */
        var carneMPerdidaKg = (machoCarcacaKg * 0.4807) * 0.030;
        var carneFPerdidaKg = (femeaCarcacaKg * 0.4807) * 0.040;
        var carnePerdidaKg = carneFPerdidaKg + carneMPerdidaKg;
        var dinheiroPerdido = carnePerdidaKg * custoKg;
        var queDeixaDePerder = dinheiroPerdido * 0.25;


        resultados.innerHTML = `
        <p><i style="color: red">Em média, 48,7% dos animais se lesionam durante o transporte</i> </p>
        <p>Levando em consideração que uma carcaça vale metade do peso do animal vivo. </p>
        <p>A quantidade de carne que seus bovinos machos renderiam normalmente é de ${machoCarcacaKg}Kg ou ${machoCarcacaKg / 14.688} arroba. No entanto, considerando que por conta do estresse causado durante o transporte estes bovinos sofreram lesões tornando em média 0,30% de sua carne inválida para consumo, a carga final se torna ${machoCarcacaKg - carneMPerdidaKg}Kg ou ${(machoCarcacaKg - carneMPerdidaKg) / 15} arroba (perda de ${carneMPerdidaKg}kg ou ${carneMPerdidaKg / 15} arroba). </p>
        <p>A quantidade de carne que seus bovinos fêmeas renderiam normalmente é de ${femeaCarcacaKg}Kg ou ${femeaCarcacaKg / 14.688} arroba. No entanto, considerando que por conta do estresse causado durante o transporte estes bovinos sofreram lesões tornando em média 0,40% de sua carne inválida para consumo, a carga final se torna ${femeaCarcacaKg - carneFPerdidaKg}Kg ou ${(femeaCarcacaKg - carneFPerdidaKg) / 15} arroba (perda de ${carneFPerdidaKg}kg ou ${carneFPerdidaKg / 15} arroba). </p>
        
        <p>Sendo assim, mensalmente, sua empresa tem uma perda de ${carnePerdidaKg}Kg de carne, ou ${carnePerdidaKg / 14.688} arroba.
        O que equivale em dinheiro, um prejuízo de R$${dinheiroPerdido} mensalmente, e R$${dinheiroPerdido * 12} anualmente por conta de lesões causadas por estresse no pré-abate.</p>

        <p>Com a <u style="color: blue">TechMoovers</u>, sua empresa deixará de perder mensalmente R$${queDeixaDePerder} e R$${queDeixaDePerder * 12} anualmente baseado na diminuição da oscilação de temperatura e umidade do ar.</p>
        `

        var transportePosAbate = (machoCarcacaKg + femeaCarcacaKg) - carnePerdidaKg;
        var perdaTransportePosAbate = transportePosAbate * 0.6;
        var perdaTransportePosAbateDinheiro = perdaTransportePosAbate * 46.16;
        var deixaPerdaTransportePosAbateDinheiro = perdaTransportePosAbateDinheiro * 0.65;

        resultados.innerHTML += `
        <p>Considerando que durante o transporte pós-abate se perde em média 6% da carga, sua empresa perde ${perdaTransportePosAbate}Kg de carne ou ${perdaTransportePosAbate / 14.688} arroba. Perda que equivale a R$${perdaTransportePosAbateDinheiro} mensalmente e R$${perdaTransportePosAbateDinheiro * 12} anualmente</p>
        <p>Com a <u style="color: blue">TechMoovers</u>, sua empresa deixará de perder mensalmente R$${deixaPerdaTransportePosAbateDinheiro}, e R$${deixaPerdaTransportePosAbateDinheiro * 12} anualmente</p>
        `

        var armazenamento = transportePosAbate - perdaTransportePosAbate;
        var perdaArmazenamento = armazenamento * 0.3;
        var perdaArmazenamentoDinheiro = perdaArmazenamento * 46.16;
        var deixaPerdaArmazenamentoDinheiro = perdaArmazenamentoDinheiro * 0.65;
        var perdaTotal = perdaArmazenamentoDinheiro + perdaTransportePosAbateDinheiro + dinheiroPerdido;
        var deixaPerdaTotal = deixaPerdaArmazenamentoDinheiro + deixaPerdaTransportePosAbateDinheiro + queDeixaDePerder;

        resultados.innerHTML += `
        <p>Considerando que durante o armazenamento pós abate se perde em média 3% da carga, sua empresa perde ${perdaArmazenamento}kg de carne ou ${perdaArmazenamento / 14.688} arroba. Perda que equivale em dinheiro à ${perdaArmazenamentoDinheiro} mensalmente e ${perdaArmazenamentoDinheiro * 12} anualmente.</p>
        <p>Contratando nosso serviço, sua empresa deixa de perder mensalmente R$${deixaPerdaArmazenamentoDinheiro} e R$${deixaPerdaArmazenamentoDinheiro * 12} anualmente.</p> <br>
        <h2>No total...</h2>
        <h2>Mensalmente sua empresa perde:<br>
        <u style="color: red">R$${perdaTotal}</u></h2>

        <h2>Anualmente sua empresa perde:<br>
        <u style="color: red">R$${perdaTotal * 12}</u></h2> <br>

        <h2>Contratando nosso serviço. No total...</h2>
        <h2>Mensalmente sua empresa deixa de perder:<br>
        <u style="color: green">R$${deixaPerdaTotal}</u></h2>

        <h2>Anualmente sua empresa deixa de perder:<br>
        <u style="color: green">R$${deixaPerdaTotal * 12}</u></h2> <br>
        
        <button onclick="recomecar()">Recomeçar</button>
        `
    }
    function recomecar() {
        resultados.innerHTML = ""
    }
</script>